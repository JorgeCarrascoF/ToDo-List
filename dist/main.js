(()=>{"use strict";var e={d:(t,o)=>{for(var n in o)e.o(o,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:o[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{th:()=>C,mU:()=>A,om:()=>x});class t{name;#e=[];constructor(e){this.name=e}searchOnArray(e){return this.#e.indexOf((t=>t.title==e)),!1}deleteToDo(e){let t=this.#e.indexOf(e);this.#e.splice(t,1)}addToDo(e){this.#e.push(e)}projectLength(){return this.#e.length}editToDo(e){let t=this.#e.indexOf(e);this.#e[t].edit(e)}getToDo(e){return this.#e.filter((t=>t.title==e))[0]}get name(){return this.name}set name(e){this.name=e}get length(){return this.#e.length}}class o{constructor(e,t,o,n,d){this.title=e,this.description=t,this.dueDate=o,this.priority=n,this.project=d}editToDo(e,t,o,n,d){this.title=e,this.description=t,this.dueDate=o,this.priority=n,this.project=d}editToDo(e){this.title=e.title,this.description=e.description,this.dueDate=e.dueDate,this.priority=e.priority,this.project=e.project}}function n(e){const t=e.target.parentElement.parentElement;C(t.id),t.remove()}function d(e){const t=e.target.parentElement.parentElement.parentElement,o=t.parentElement;A(t.id,o.id),t.remove()}function i(e){const t=e.target.parentElement.childNodes;let o=Array.from(t).filter((e=>"to-do-description"==e.id)),n=document.getElementsByClassName("open");if(o[0].classList.contains("open"))o[0].classList.remove("open");else{for(let e of n)e.classList.remove("open");o[0].classList.add("open")}}const l=document.getElementById("menu-icon"),c=document.getElementById("menu"),r=document.getElementById("projectNameForm"),a=document.getElementById("toDoFormButton"),s=document.getElementById("projectFormButton"),m=document.getElementById("toDoCloseForm"),u=document.getElementById("edit-todo"),p=document.getElementById("toDoEditFormButton"),E=document.getElementById("projectNameEditForm"),y=document.getElementById("toDoEditCloseForm"),h=document.getElementById("create-project"),g=document.getElementById("create-todo"),f=document.getElementById("aboutScreen"),v=document.getElementById("about"),B=document.getElementById("aboutCloseButton"),L=document.getElementById("todo-form"),I=document.getElementById("project-form"),D=document.getElementById("projectCloseForm");let k;l.addEventListener("click",(()=>{c.classList.toggle("open")}));const b=[];T("Default");const F=document.getElementsByClassName("to-do-title");function T(e){if(b.length>9)alert("You can't create more than 10 projects!");else{let o=new t(e);b.push(o),function(e){let t=document.getElementById("dashboard").appendChild(document.createElement("div"));t.classList.add("project"),t.id=e;let o=t.appendChild(document.createElement("span"));o.classList.add("project-title"),o.innerText=e;let d=o.appendChild(document.createElement("img"));d.src="../img/delete.png",d.classList.add("icon"),d.id="deleteProjectButton",d.addEventListener("click",n)}(e),function(){let e=0;for(let t of b)r.options[e]=new Option(`${t.name}`,`Value${e}`),e++}()}}function C(e){console.log(b);let t=b.filter((t=>t.name==e))[0];console.log(t);let o=b.indexOf(t);b.splice(o,1),console.log(b)}function j(e,t,n,l,c){let r=b.filter((e=>e.name==c));if(r[0].length>5)!function(e){alert(`${e} is full! (Max To-Dos = 6)`)}(r[0].title);else{let a=new o(e,t,n,l,c);r[0].addToDo(a),function(e,t,o,n,l){let c=document.getElementById(l),r=c.appendChild(document.createElement("div"));r.classList.add("to-do");let a=e.replaceAll(" ","-");r.id=a;let s=r.appendChild(document.createElement("div"));s.classList.add("to-do-title");let m=s.appendChild(document.createElement("div"));m.classList.add("bullet-point");let u=`${n}-priority`;m.classList.add(u),s.appendChild(document.createElement("span")).innerText=e;let p=r.appendChild(document.createElement("div"));p.classList.add("to-do-description"),p.id="to-do-description";let E=p.appendChild(document.createElement("div"));E.classList.add("to-do-icons");let y=E.appendChild(document.createElement("img"));y.classList.add("icon"),y.src="../img/edit.png";let h=E.appendChild(document.createElement("img"));h.classList.add("icon"),h.src="../img/delete.png",p.appendChild(document.createElement("p")).innerText=t,s.addEventListener("click",i);let g=document.getElementById("edit-todo");h.addEventListener("click",d),y.addEventListener("click",(()=>{!function(e,t,o,n,d){let i=document.getElementById("titleEditForm"),l=document.getElementById("descriptionEditForm"),c=document.getElementById("dateEditForm"),r=document.getElementById(`${n}-radio-edit`);i.value=e,l.value=t,c.value=o,r.checked=!0,x(e),document.querySelector(`option[value="${d}"]`).selected=!0}(e,t,o,n,c.id),g.classList.remove("disabled")}))}(e,t,n,l,c)}}function x(e){k=e.replaceAll(" ","-");let t=0;for(let e of b)E.options[t]=new Option(`${e.name}`,`${e.name}`),t++}function A(e,t){let o=b.filter((e=>e.name==t)),n=o[0].getToDo(e);o[0].deleteToDo(n)}for(let e of F)e.addEventListener("click",i);a.addEventListener("click",(()=>{L.classList.add("disabled"),function(){if(document.getElementById("titleForm").checkValidity())if(document.getElementById("descriptionForm").checkValidity())if(document.getElementById("dateForm").checkValidity())if(document.querySelector('input[name="priority"]').checkValidity()){let e=document.getElementById("titleForm").value,t=document.getElementById("descriptionForm").value,o=document.getElementById("dateForm").value,n=document.querySelector('input[name="priority"]:checked'),d=document.querySelector(`label[for="${n.id}"]`).innerText.toLowerCase(),i=document.getElementById("projectNameForm");j(e,t,o,d,i.options[i.selectedIndex].text)}else alert("You need to choose a priority for the To-Do");else alert("Please, insert a valid date.");else alert("Description has to be max 500 char long!");else alert("Title needs to be at least 4 char long!")}()})),g.addEventListener("click",(()=>{L.classList.remove("disabled")})),m.addEventListener("click",(()=>{L.classList.add("disabled")})),s.addEventListener("click",(()=>{I.classList.add("disabled"),T(document.getElementById("projectForm").value)})),h.addEventListener("click",(()=>{I.classList.remove("disabled")})),D.addEventListener("click",(()=>{I.classList.add("disabled")})),v.addEventListener("click",(()=>{f.classList.remove("disabled")})),B.addEventListener("click",(()=>{f.classList.add("disabled")})),p.addEventListener("click",(()=>{u.classList.add("disabled"),function(){if(document.getElementById("titleEditForm").checkValidity())if(document.getElementById("descriptionEditForm").checkValidity())if(document.getElementById("dateEditForm").checkValidity())if(document.querySelector('input[name="priorityEdit"]').checkValidity()){let e=document.getElementById("titleEditForm").value,t=document.getElementById("descriptionEditForm").value,o=document.getElementById("dateEditForm").value,n=document.querySelector('input[name="priorityEdit"]:checked'),d=document.querySelector(`label[for="${n.id}"]`).innerText.toLowerCase(),i=document.getElementById("projectNameEditForm"),l=i.options[i.selectedIndex].text,c=document.querySelector(`div[id=${k}]`),r=b.filter((e=>e.name==l));r[0].projectLength()>5?alert(`${r[0].name} is full! Delete a To-Do before adding this one.`):(c.remove(),j(e,t,o,d,l))}else alert("You need to choose a priority for the To-Do");else alert("Please, insert a valid date.");else alert("Description has to be max 500 char long!");else alert("Title needs to be at least 4 char long!")}()})),y.addEventListener("click",(()=>{u.classList.add("disabled")})),j("Creating To-Do's (click me!)",'\'To create a new To-Do, open the menu and select "Create new to-do". A form will open, where you can insert the data.',"2017-08-19","high","Default")})();